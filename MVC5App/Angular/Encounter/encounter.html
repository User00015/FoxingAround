<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    /* Zebra striping */
    tr:nth-of-type(odd) {
        background: #eee;
    }

    th {
        background: #333;
        color: white;
        font-weight: bold;
    }

    td, th {
        padding: 6px;
        border: 1px solid #ccc;
        text-align: left;
    }

    .btn {
        margin-bottom: 2px;
    }

    .divider {
  height: 1px;
  width:100%;
  display:block; /* for use on default inline elements like span */
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
</style>


<div class="well">
    <form class="form-horizontal" name="formEncounter">
        <div class="form-group">
            <div class="col-md-3">
                <label for="NumberOfCharactersSelect" class="control-label">Number of characters</label>
                <select class="form-control" name="numOfChars" id="NumberOfCharactersSelect" placeholder="" ng-model="numberOfCharacters" required ng-options="level as level for level in levels"></select>
            </div>

            <div class="col-md-3">
                <label for="LevelOfCharacters" class="control-label">Level of Characters</label>
                <select class="form-control" name="levelOfChars" id="LevelOfCharacters" required ng-model="levelOfCharacters" ng-options="level as level for level in levels"></select>
            </div>

            <div class="col-md-3">
                <label for="Difficulty" class="control-label">Difficulty</label>
                <select class="form-control" id="Difficulty" placeholder="" ng-model="difficulty" ng-options="difficulty.type for difficulty in difficulties track by difficulty.value"></select>
            </div>
            <div class="col-md-3">
                <label for="Terrain" class="control-label">Terrain</label>
                <select class="form-control" id="Terrain" placeholder="" ng-model="environment" ng-options="environment.type for environment in environments track by environment.value"></select>
            </div>
        </div>

        <encounter-table encounter="encounter" save="saveNewEncounter"></encounter-table>

        <button type="submit" class="btn btn-default btn-primary" ng-disabled="formEncounter.$invalid || isLoading" ng-click="createEncounters()">
            <span ng-show="isLoadingNewEncounter">
                <i class="glyphicon glyphicon-refresh spinning"></i>
            </span>Create Encounter
        </button>
    </form>


    <!--<button type="submit" class="btn btn-default btn-primary" ng-click="loadEncounter()">
        <span ng-show="isLoadingSavedEncounters">
            <i class="glyphicon glyphicon-refresh spinning"></i>
        </span>Load Encounters
    </button>-->
    <div class="divider"> </div>
    <div class="row">
        <div class="col-sm-offset-6" ng-show="isLoadingSavedEncounters"> <i class="fa fa-refresh fa-spin fa-5x"></i></div>
    </div>
    <div ng-repeat="savedEncounter in savedEncounters" ng-model="savedEncounter">
        <encounter-table encounter="savedEncounter" save="updateEncounter"></encounter-table>
    </div>
    <button type="submit" class="btn btn-default btn-primary" ng-click="updateEncounter()" ng-if="savedEncounters">
        <span ng-show="isSaving">
            <i class="glyphicon glyphicon-refresh spinning"></i>
        </span>Save All
        <i class="fa fa-exclamation-triangle" style="color: #f0ad4e" ng-if="encountersChanged"
           data-trigger="hover"
           data-placement="top"
           data-title="Changes detected"
           bs-tooltip></i>
    </button>
</div>
