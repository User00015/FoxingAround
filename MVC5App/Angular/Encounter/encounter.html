<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    /* Zebra striping */
    tr:nth-of-type(odd) {
        background: #eee;
    }

    th {
        background: #333;
        color: white;
        font-weight: bold;
    }

    td, th {
        padding: 6px;
        border: 1px solid #ccc;
        text-align: left;
    }

    .btn {
        margin-bottom: 2px;
    }
</style>


<div class="well">
    <form class="form-horizontal" name="formEncounter">
        <div class="form-group">
            <div class="col-md-3">
                <label for="NumberOfCharactersSelect" class="control-label">Number of characters</label>
                <select class="form-control" name="numOfChars" id="NumberOfCharactersSelect" placeholder="" ng-model="numberOfCharacters" required ng-options="level as level for level in levels"></select>
            </div>

            <div class="col-md-3">
                <label for="LevelOfCharacters" class="control-label">Level of Characters</label>
                <select class="form-control" name="levelOfChars" id="LevelOfCharacters" required ng-model="levelOfCharacters" ng-options="level as level for level in levels"></select>
            </div>

            <div class="col-md-3">
                <label for="Difficulty" class="control-label">Difficulty</label>
                <select class="form-control" id="Difficulty" placeholder="" ng-model="difficulty" ng-options="difficulty.type for difficulty in difficulties track by difficulty.value"></select>
            </div>
            <div class="col-md-3">
                <label for="Terrain" class="control-label">Terrain</label>
                <select class="form-control" id="Terrain" placeholder="" ng-model="environment" ng-options="environment.type for environment in environments track by environment.value"></select>
            </div>
        </div>

        <!--<table st-table="encounter" st-pipe="getEncounter" class="table table-striped table-bordered" ng-show="encounter">-->
        <encounter-table encounter="encounter" save="saveNewEncounter"></encounter-table>

        <button type="submit" class="btn btn-default btn-primary" ng-disabled="formEncounter.$invalid || isLoading" ng-click="createEncounters()">
            <span ng-show="isLoading">
                <i class="glyphicon glyphicon-refresh spinning"></i>
            </span>Create Encounter
        </button>
    </form>


    <button type="submit" class="btn btn-default btn-primary" ng-click="loadEncounter()">
        <span ng-show="isLoading">
            <i class="glyphicon glyphicon-refresh spinning"></i>
        </span>Load Encounters
    </button>
    <button type="submit" class="btn btn-default btn-primary" ng-click="updateEncounter()">
        <span ng-show="isLoading">
            <i class="glyphicon glyphicon-refresh spinning"></i>
        </span>Save All
    </button>
    <a class="btn btn-sm">
        <i class="fa fa-exclamation-triangle fa-2x" style="color: #f0ad4e" ng-if="encounterChanged" 
           data-trigger="hover"
           data-placement="top"
           data-title="Changes detected"
           bs-tooltip></i>
    </a>
    <div ng-repeat="savedEncounter in savedEncounters" ng-model="savedEncounter">
        <encounter-table encounter="savedEncounter" save="updateEncounter"></encounter-table>
    </div>
</div>
